import{r as m,i as h,f as _,a as b,c as g,b as t,j as S,n as C,u as w,t as y,y as N,m as V,k as j,q as o}from"./index.S7RG_dfA.js";import{t as a}from"./translate.yi3aBGOk.js";import{u as x,L as F}from"./Loading.ml2CKU1a.js";/* empty css                        */import{_ as M}from"./_plugin-vue_export-helper.x3n3nnut.js";import"./index.5btRwMe0.js";const B={__name:"NewsletterFooter",props:{type:{type:String,required:!1,default:"mailchimp"},list_id:String,data:{type:Object}},setup(u,{expose:i}){i();const n=u,e=m(!1),c=m(null),r=h({email:""}),l={email:[{type:"email",required:!0}]},{pass:p,isFinished:d,errorFields:v}=x(r,l),k=_(()=>!e.value&&d.value&&p.value),f={props:n,loading:e,message:c,form:r,rules:l,pass:p,isFinished:d,errorFields:v,canSubmit:k,submit:()=>{n.type==="mailchimp"&&(e.value=!0,fetch("/api/subscribe-mailchimp",{method:"POST",body:JSON.stringify({email:r.email}),headers:{"Content-Type":"application/json"}}).then(s=>s.json()).then(s=>{s.status==="pending"||s.status==="subscribed"?(o.success(a("newsletter_thanks")),r.email=""):s.status==="Member Exists"?(o.info(a("newsletter_already_subscribed")),r.email=""):o.error(a("newsletter_error"))}).catch(s=>{c.value=a("newsletter_error"),o.error(a("newsletter_error"))}).finally(()=>{e.value=!1}))},ref:m,computed:_,reactive:h,get t(){return a},get useAsyncValidator(){return x},Loading:F,get toast(){return o}};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}},L={class:"input-group min-w-[200px]"},O={for:"email",class:"peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:text-primary"},T=["disabled"],q={class:"-mr-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve",style:{"enable-background":"new 0 0 12 12"},viewBox:"0 0 12 12"},z=t("g",{class:"-translate-x-[20%] transition-transform duration-300 group-hover:translate-x-0"},[t("path",{d:"M9.2 6.4 6.4 9.1c-.1.1-.1.4 0 .5s.4.1.5 0l3.4-3.4c.1-.1.1-.4 0-.5L7 2.4c-.1-.1-.4-.1-.5 0-.1.1-.1.4 0 .5l2.7 2.7c.4.4.4.4 0 .8z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.5"}),t("g",null,[t("path",{class:"origin-right -translate-x-[8%] scale-x-0 transition-transform duration-300 group-hover:scale-x-75",d:"M9.6 5.6H1.9c-.2 0-.3.2-.3.4s.2.4.4.4h7.7c.2 0 .4-.2.4-.4s-.3-.4-.5-.4z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.5"})])],-1),A=[z];function D(u,i,n,e,c,r){return b(),g("form",{name:"newsletter-subscribes",class:"relative inline-flex items-center gap-4 py-4",onSubmit:j(e.submit,["prevent"])},[t("div",L,[S(t("input",{type:"email",id:"email",name:"email",placeholder:" ",class:w(["pee",e.errorFields?.email?.length?"text-warning":"text-white"]),"onUpdate:modelValue":i[0]||(i[0]=l=>e.form.email=l)},null,2),[[C,e.form.email]]),t("label",O,y(e.t("email"))+" *",1)]),t("button",{type:"submit",disabled:!e.canSubmit,class:w(["btn group",e.canSubmit?"surface-primary":"surface-base opacity-50"])},[N(y(e.t("subscribe"))+" ",1),(b(),g("svg",q,A))],10,T),V(e.Loading,{loading:e.loading},null,8,["loading"])],32)}const K=M(B,[["render",D]]);export{K as default};
